@import "tailwindcss";
@plugin "flowbite-react/plugin/tailwindcss";
@source "../.flowbite-react/class-list.json";

/* ======== THEME ROOT VARIABLES ======== */
:root {
  --background: #ffffff;
  --foreground: #171717;

  /* Tambahkan ini agar Poppins dipakai global */
  --font-sans: var(--font-poppins);
  --font-mono: var(--font-geist-mono);
}

/* ======== DARK MODE ======== */
@custom-variant dark (&:where(.dark, .dark *));
@media (prefers-color-scheme: dark) {
  :root {
    --background: #0a0a0a;
    --foreground: #ededed;
  }
}

/* ======== THEME COLOR MAPPING ======== */
@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);
  --font-sans: var(--font-poppins);
  --font-mono: var(--font-geist-mono);
}

/* ======== GLOBAL BODY STYLES ======== */
body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-poppins), sans-serif;
}

.prose img {
  margin: 1rem auto;
  border-radius: 0.5rem;
}

.prose h1, .prose h2, .prose h3 {
  scroll-margin-top: 100px; /* biar enak kalau pakai anchor */
}


@layer base {
  .prose h1, .prose h2, .prose h3 {
    margin-top: 1.25em;
    margin-bottom: 0.5em;
  }

   .prose p{
    margin-bottom: 0.25em;
  }

  /* Menambahkan gaya untuk blockquote di dalam .prose */
  .prose blockquote {
    border-left-width: 0.25rem; /* Garis kiri tebal */
    border-left-color: #d1d5db; /* Warna garis kiri (abu-abu muda) */
    padding-left: 1em; /* Jarak dari garis kiri */
    font-style: italic; /* Teks miring */
    color: #6b7280; /* Warna teks sedikit redup */
    margin-bottom: 1em;
  }

  /* Mengatur jarak antar item pada list agar lebih rapat */
  /* .prose ul > li,
  .prose ol > li {
    margin-top: 0.25em;
    margin-bottom: 0.25em;
  } */

  /* Mengatur indentasi list agar lebih menjorok ke dalam */
  .prose ul,
  .prose ol {
    padding-left: 2.5em; /* Sesuaikan nilai ini untuk mengatur kedalaman indentasi */
  }
}


/* === STYLING UNTUK BLOK KODE (PRE & CODE) === */

/* 1. Wrapper <pre> untuk blok kode */
pre {
  position: relative;
  @apply bg-gray-100 dark:bg-gray-800 rounded-lg my-4 shadow-inner;
  /* Hapus overflow-x: auto dari sini agar tidak menyebabkan scroll */
}

/* 2. Elemen <code> di dalam <pre> */
pre > code {
  @apply block p-4 text-sm;
  padding-top: 2.5rem; /* Beri ruang di atas untuk tombol "Salin" */
  
  /* Ini adalah kunci untuk wrapping dan mencegah overflow */
  white-space: pre-wrap;   /* Membuat baris kode yang panjang otomatis ke bawah */
  word-break: break-all;   /* Memaksa pemecahan kata jika sangat panjang */
  overflow-x: hidden;      /* Sembunyikan scroll horizontal */
}

/* 3. Styling untuk tombol copy */
.copy-code-button {
  position: absolute;
  top: 0.5rem;
  right: 0.75rem;
  padding: 0.25rem 0.5rem;
  font-size: 0.75rem;
  color: #E5E7EB; /* Teks abu-abu muda */
  background-color: #374151; /* Latar belakang abu-abu gelap */
  border: 1px solid #4B5563; /* Border sedikit lebih terang */
  border-radius: 0.375rem;
  cursor: pointer;
  opacity: 0; /* Sembunyikan secara default */
  transition: opacity 0.2s ease-in-out;
}

/* 4. Tampilkan tombol saat mouse hover di atas blok kode */
pre:hover .copy-code-button {
  opacity: 1;
}

.copy-code-button:hover {
  background-color: #4B5563; /* Sedikit lebih terang saat di-hover */
}

.copy-code-button:active {
    background-color: #1F2937;
}

/* 4. Penyesuaian untuk layar kecil (mobile) */
@media (max-width: 640px) {
  pre > code {
    @apply text-xs; /* Perkecil ukuran font kode di mobile */
  }
}

/* 5. Styling untuk kode inline (bukan di dalam blok <pre>) */
.prose code:not(pre > code) {
  @apply bg-gray-200 dark:bg-gray-700 text-red-600 dark:text-red-400 font-mono text-sm px-1.5 py-0.5 rounded-md;
}

/* Pastikan Tiptap/Prose menggunakan style yang sama */
.prose pre { @apply p-0; } /* Reset padding bawaan prose */
